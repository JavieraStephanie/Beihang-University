package test;

import java.sql.Timestamp;
import java.util.Date;
import java.util.Scanner;

public class InputHandler extends main{
	Scanner scanner = new Scanner(System.in);
    
    String input;
    String prefix = "CR, ";
    /*int[] sourcesi = new int[1000];
    int[] sourcesj = new int[1000];
    int[] destinationsi = new int[1000];
    int[] destinationsj = new int[1000];
    Timestamp[] time = new Timestamp[1000];*/
    long currenttime;
    
    int i=0;

	public void InputValidation() {
		
		QueueOutput requestoutput = new QueueOutput();
		
		System.out.print("Please enter your request(s): ");
    	
    	while(i<1000)
    	{
    		input = scanner.nextLine();
    		Date date = new Date();
    		currenttime = date.getTime();
    		time[i]= new Timestamp(currenttime);
    		
        	if(input.startsWith(prefix)) {
        		input = input.substring(prefix.length());
        		
        		String coordinates[] = input.split(", ");
        		
        		sourcesi[i]=Character.getNumericValue(coordinates[0].charAt(1));
        		sourcesj[i]=Character.getNumericValue(coordinates[1].charAt(0));
        		destinationsi[i]=Character.getNumericValue(coordinates[2].charAt(1));
        		destinationsj[i]=Character.getNumericValue(coordinates[3].charAt(0));
        	}
        	
        	requestoutput.writeDetail(i, time[i], sourcesi[i], sourcesj[i], destinationsi[i], destinationsj[i]);
        	i++;
    	}

        scanner.close();
    }
	
	public int[] sourcePoint() {
		return this.sourcesi;
	}
}
